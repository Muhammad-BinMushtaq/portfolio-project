<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

<script> -->

    // let error1 = true;
    // let promise4 = new Promise(function (resolve, reject) {
    //     setTimeout(() => {
    //         console.log("It has started working")
    //         if (!error1) {
    //             resolve({ userName: 'khan', email: 'abc@example.com' })
    //         }

    //         else {
    //             reject("Some error")
    //         }
    //     }, 2000);
    // })

    // promise4
    //     .then((data) => {
    //         return (data.email)
    //     })
    //     .then((data) => {
    //         console.log("The eamil is ", data)
    //     })
    //     .catch((err) => { console.log(err) })



    // let promise = new Promise((resolve) => {
    //     setTimeout(() => {
    //         console.log("Data is recieved after 2 seconds")
    //     }, 2000)
    // })

    // async function receiveData() {
    //     let data = await promise;
    //     console.log(data)
    // }
    // promise.then((data)=>{console.log(data)})


    // async function receiveData() {
    //     let data = await new Promise((resolve) =>
    //         setTimeout(() => {
    //             resolve(4)
    //         }, 3000));
    //     console.log(data)


    //     let r = data * 2;
    //     console.log(r)
    // }

    // receiveData()


    // let promise =new Promise((resolve)=>{
    //     setTimeout(()=>{
    //       resolve(4)
    //     },3000)
    // })

    // promise
    // .then((data)=>{console.log(data)
    //     return(data*2)
    // })
    // .then((data)=>{
    //     console.log(data);
    // })


    // let error = true;
    // async function handlePromise() {
    //     try {
    //         let val = await new Promise((resolve, reject) => {
    //             setTimeout(() => {
    //                 if (!error) {

    //                     resolve("This has resolved")
    //                 }
    //                 else {

    //                     reject("There is some error in promise")

    //                 }
    //             }, 1000)
    //         });
    //         console.log(val)
    //     }
    //     catch (error) {
    //         console.log(error)
    //     }
    // }

    // handlePromise() 



    // let error = true;

    // function hello() {
    //     return new Promise((resolve, reject) => {
    //         setTimeout(() => {
    //             if (!error) {

    //                 resolve("This has resolved")
    //             }
    //             else {

    //                 reject("There is some error in promise")

    //             }
    //         }, 1000)
    //     });


    // }


    // async function handle() {
    //     try {
    //         let response = await hello();
    //         console.log(response);

    //     } catch (error) {
    //         console.log(error);
    //     }

    // }

    // handle()

    // handlePromise()
    //     .then(function (val) {
    //         console.log(val);
    //     })
    //     .catch((error)=>{
    //         console.log(error)
    //     })



    // let error = true;

    // async function hello() {
    //     try {
    //         let friend = await new Promise((resolve, reject) => {
    //             setTimeout(() => {
    //                 if (!error) {

    //                     resolve("This has resolved")
    //                 }
    //                 else {

    //                     reject("There is some error in promise")

    //                 }
    //             }, 1000)
    //         });
    //     }
    //     catch (err) {
    //         console.log(err);
    //     }

    // }

    // hello()



    // async function rose() {
    //     try {
    //         const nose = await fetch('https://jsonplaceholder.typicode.com/users');
    //         const bottle = await nose.json();
    //         console.log(bottle);
    //     }
    //     catch (error) {
    //         console.log(error);
    //     }
    // }
    // rose() 



//     function rose() {

//         return fetch('https://jsonplaceholder.typicode.com/users')
//         .then((res) => {
//             return res.json();
            
//         })
//             .then((res) => {
//                 console.log(res)
//             })
//             .catch((err) => {
//                 console.log(err);
//             })


//     }

//     rose()
// </script>

// </html>

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Live Search with Debounce</title>
</head>
<body>
    <input type="text" id="search" placeholder="Search users..." />
    <div id="results"></div>
    <script>
        function debounce(func, delay) {
            let timeout;
            return function (...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func(...args), delay);
            };
        }

        async function fetchUsers(query) {
            if (!query) {
                document.getElementById("results").innerHTML = "";
                return;
            }
            
            try {
                let response = await fetch(`https://jsonplaceholder.typicode.com/users?name_like=${query}`);
                let data = await response.json();
                displayResults(data);
            } catch (error) {
                console.error("Error fetching users:", error);
            }
        }

        function displayResults(users) {
            let resultsContainer = document.getElementById("results");
            resultsContainer.innerHTML = users.map(user => `<p>${user.name}</p>`).join("");
        }

        document.getElementById("search").addEventListener("input", debounce((event) => {
            fetchUsers(event.target.value);
        }, 500));
    </script>
</body>
</html>
